<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <title>EE 209: String Manipulation</title>
    <link rel='stylesheet' href='../../vendor/semantic.min.css' />
    <link rel="stylesheet" type="text/css" href="../../vendor/components/menu.min.css"/>
    <link rel="stylesheet" type="text/css" href="../../vendor/components/transition.min.css"/>
    <link rel='stylesheet' href='../../vendor/ee209_assignment.css' />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
    <script src="../../vendor/semantic.min.js"></script>
    <script src="../../vendor/components/visibility.js"></script>
    <script src="../../vendor/components/sidebar.js"></script>
    <script src="../../vendor/components/transition.js"></script>
</head>
<body>
<div class="ui top fixed hidden menu custom">
    <div class="ui container">
        <a class="go-prev" href="../../assignments"><h3 class><i class="chevron left icon"></i></h3></a>
        <a class=""><h3 class="">Assignment 2: String Manipulation</h3></a>
    </div>
</div>
<div class="ui container">
    <div class="ui center aligned">
        <h1 class="ui center aligned header">KAIST<br> EE 209: Programming Structures for EE</h1>

        <h2 class="ui center aligned header">Assignment 2: String Manipulation</h2>
        <h4 class="ui center aligned header" style="font-weight: normal">(Acknowledgment: This assignment is borrowed and modified from Princeton's COS 217)</h4>

        <h4 class="ui center aligned header" id="timer">&nbsp;</h4>
    </div>


    <h2 class="ui dividing header">Purpose</h2>

    <p>The purpose of this assignment is to help you learn/review (1)
        arrays and pointers in the C programming language, (2) how to create
        and use stateless modules in C, (3) the "design by contract"
        style of programming, and (4) how to use the GNU/UNIX programming
        tools, especially <code>bash</code>, <code>emacs</code>, gcc,
        and <code>gdb</code>.</p>


    <h2 class="ui dividing header">Rules</h2>

    <p> Implement the string functions listed by the Table
        in <a href="#part1">Part 1</a>. <a href="#part2">Part 2</a> is the "on your own" part of this
        assignment, which is worth 50% of this assignment.
    </p>

    <p> You will get an <b>extra</b> 10% of the full score if you
        implement the Part 1 only with pointer notation when you access the
        character.  See the <a href="#extra">Extra credit</a> section below
        (Extra Credit for Part 1).
    </p>


    <h2 class="ui dividing header">Background</h2>

    <p>As you know, the C programming environment provides a standard
        library. The facilities provided in the standard library are declared
        in header files. One of those header files is string.h; it contains
        the declarations of "string functions," that is, functions
        that perform operations on character strings. Appendix D of the King
        textbook, Appendix B3 of the Kernighan and Ritchie textbook, and the
        UNIX "man" pages describe the string functions. The string
        functions are used heavily in programming systems; certainly any
        editor, compiler, assembler, or operating system created with the C
        programming language would use them.</p>


    <h2 class="ui dividing header">Overview of Your Task</h2>

    <p>Your task in this assignment is to use C to create the
        "Str" module that provides string manipulation
        functions. Specifically, design your Str module so that
        each function behaves the same as described below.
        Your task in this assignment is twofold. </p>

    <p><a href="#part1"><strong>[Part 1]</strong></a>

        Read the description of the basic string library functions carefully,
        and implement each function. The basic functions are most commonly
        used standard string functions. Each function should behave the same
        as its corresponding standard C function.
    </p>

    <p> <a href="#part2"> <strong>[Part 2]</strong></a>

        Implement a simplified version of <code>grep</code>
        using <code>Str</code> functions. Read the provided file that contains
        skeleton code carefully, edit the file to make it process the required
        functionalities: find, replace, diff. </p>



    <h2 class="ui dividing header"><a name="part1"></a>Part 1: The Basic <code>Str</code> Function Implementation</h2>

    <p> Your task for the first part is to use C to implement five basic
        string manipulation functions: <code>StrGetLength(), StrCopy(),
            StrCompare(), StrSearch(), StrConcat()</code>. Those five functions
        should follow the format of the corresponding standard C library
        functions. You can easily find the function's description and
        operation in the UNIX "man" page. </p>

    <p> The following table shows the required basic string functions in Part 1 and their corresponding function names in the standard C library.</p>
    <div class="scroll-x-container">
    <table class="ui celled table unstackable">
        <thead>
        <tr>
            <th><code>Str</code> Function
            </th>
            <th>Standard C Function
            </th>
            <th> Man page link
            </th>
        </tr>
        </thead>
        <tbody>

        <tr>
            <td><code>StrGetLength</code>
            </td>
            <td><code>strlen</code>
            </td>
            <td> <a href="./file/strlen.txt"> strlen man page
            </a>
            </td>
        </tr>

        <tr>
            <td><code>StrCopy</code>
            </td>
            <td><code>strcpy</code>
            </td>
            <td> <a href="./file/strcpy.txt"> strcpy man page
            </a>
            </td>
        </tr>

        <tr>
            <td><code>StrCompare</code>
            </td>
            <td><code>strcmp</code>
            </td>
            <td> <a href="./file/strcmp.txt"> strcmp man page
            </a>
            </td>
        </tr>

        <tr>
            <td><code>StrSearch</code>
            </td>
            <td><code>strstr</code>
            </td><td> <a href="./file/strstr.txt"> strstr man page
        </a>
        </td>
        </tr>

        <tr>
            <td><code>StrConcat</code>
            </td>
            <td><code>strcat</code>
            </td>
            <td> <a href="./file/strcat.txt"> strcat man page
            </a>
            </td>
        </tr>
        </tbody>
    </table>
    </div>
    <p>Use the <code>Str</code> module's <em>interface</em> in a file named <a href="./src/str.h"><code>str.h</code></a>, and place your <code>Str</code> function definitions
        in <a href="./src/str.c"><code>str.c</code></a>. </p>

    <p>
        <a class="ui labeled icon button" href="./src/str.h">
            <i class="download icon"></i><code>str.h</code>
        </a>
        <a class="ui labeled icon button" href="./src/str.c">
            <i class="download icon"></i><code>str.c</code>
        </a>
    </p>

    <p>Note that your Str
        functions <b>should not</b> call any of the standard string
        functions. In the context of this assignment, pretend that the
        standard string functions do not exist. However, your functions may
        call each other, and you may define additional (non-interface)
        functions.</p>

    <p>Design each function definition so it calls the <code>assert</code>
        macro to validate the function's parameters. In that way,
        your <code>Str</code> functions should differ from the standard C
        string functions. Specifically, design each function definition to
        assert that each parameter is not <code>NULL</code>. See the
        <a href="#assert">note</a> below for more information of
        the <code>assert()</code> macro function.</p>


    <p>Beware of type mismatches. In particular, beware of the difference
        between type size_t and type int: a variable of type size_t can store
        larger integers than a variable of type int can. Your functions should
        (in principle) be able to handle strings whose lengths exceed the
        capacity of type int. Also beware of type mismatches related to the
        use of the const keyword.
    </p>


    <div style="margin-left: 1em">
        <h3 class="ui dividing header"><a name="extra"></a>  Extra Credit for Part 1: Implement functions with pointer notation </h3>

        <p>There are various ways to implement the functions in Part
            1. Especially, you can access the character by pointer dereferencing
            like <code> *pcSrc </code> or by using an array notation such
            as <code> pcSrc[uiLength] </code>. </p>

        <p>Here are two examples of <code>StrGetLength() </code>
            implementation.  The first code implements the StrGetLength() function
            with the array notation; it traverses each given string or accesses
            the character using an index relative to the beginning of the string.
            However, with the pointer notation, the second version traverses each
            given string using an incremented pointer.

        </p>

        <div class="ui message" style="overflow-x: auto">
            <pre>size_t StrGetLength(const char pcSrc[]) /* Use array notation */
{
   size_t uiLength = 0U;
   assert(pcSrc != NULL);
   while (pcSrc[uiLength] != '\0')
      uiLength++;
   return uiLength;
}</pre>
        </div>
        <div class="ui message" style="overflow-x: auto">

            <pre>size_t StrGetLength(const char *pcSrc) /* Use pointer notation */
{
   const char *pcEnd;
   assert(pcSrc != NULL);
   pcEnd = pcSrc;
   while (*pcEnd != '\0') /* note that *(pcSrc + uiLength) is valid but is "NOT" acceptable as pointer notation */
      pcEnd++;
   return (size_t)(pcEnd - pcSrc);
}</pre>
        </div>

        <p> You can freely implement Part 1. However, <strong> if you
            implement part 1 only with pointer notation, you can get extra 10% of
            the full score. </strong> <b> Note: if you simply convert array
            notation to pointer notation (e.g., *(p+i) instead of p[i]), that does
            not count as pointer notation.</b> That is, pointer notation should
            not deal with an index. We will strictly apply the criteria for
            pointer notation, so please avoid using notation like (p+i) to get the
            full credit. p++/-- and *p are just fine.  Please write your choice of
            implementation in the <code>readme</code> file. That is, specify if
            you used only the pointer notation for Part 1 in
            the <code>readme</code> file.
        </p>


        <h3 class="ui dividing header"> Test your Str Functions </h3>

        <p> We provide a test client
            (<a href="./src/client.c"><code>client.c</code></a>) that compares
            the results of the <code>Str</code> and C standard library functions
            with various input. Please use this code for testing and
            debugging. You can compile the test client with <code>gcc209</code> as
            follows.

        </p>
        <p>
            <a class="ui labeled icon button" href="./src/client.c">
                <i class="download icon"></i><code>client.c</code>
            </a>
        </p>

        <div class="ui message" >

<pre>gcc209 -o client client.c str.c
</pre>
    </div>

        <p></p>
        Then, test each of your <code>Str</code> functions separately by providing
        a function name as an argument. For example,

        <div class="ui message">
<pre>./client StrCopy
</pre>
        </div>

        will test <code>StrCopy</code>. Actually, the client accepts any one of the <code>Str</code> function names as a command-line argument: <p></p>

        <div class="ui message">
<pre>./client [StrGetLength|StrCopy|StrCompare|StrSearch|StrConcat]
</pre>
        </div>

        <p> Note that passing all tests provided by the client does <b>not</b>
            mean that your function always behaves correctly. Please devise your
            own testing (e.g., by changing the client code) for more confidence.
            Note that we may use a different test client for grading.


        </p>
    </div>


    <h2 class="ui dividing header"><a name="part2"></a> Part 2: Simple Grep </h2>

    <p> <code>grep</code> is a popular UNIX tool that manipulates input strings. In this part, you implement a simplified version of <code>grep</code> called <code>sgrep</code>. <code>sgrep</code> provides these three functionalities.

    </p><ul>
    <li><strong>Find (<code>-f search-string</code>)</strong>: reads each line from standard input (<code>stdin</code>) and prints out <b>only the lines </b>that contain <code>search-string</code> to standard output (<code>stdout</code>). </li>
    <!--li><strong>Count (<code>-c search-string file1</code>)</strong>: reads each line from file (file1) and prints out only <b>the number of lines </b>that contain <code>search-string</code> to standard output (<code>stdout</code>). Multiple occurrences of the searched-string in the same line is still counted once. </li-->
    <li><strong>Replace (<code>-r string1 string2</code>)</strong>: reads each line from standard input (<code>stdin</code>), <b>replaces all occurrences</b> of <code>string1</code> with <code>string2</code>, and prints it out to standard output (<code>stdout</code>). If <code>string1</code> is not found in the line, the original line is copied to <code>stdout</code>. </li>
    <li><strong>Diff (<code>-d file1 file2</code>)</strong>: compares the two files (file1 and file2) line by line, and prints out <b>only the different lines </b>with their line numbers to standard output (<code>stdout</code>). The output format of the different line should be as follows:

        <div class="ui message">
<pre>file1@line-num:file1's line
file2@line-num:file2's line</pre></div>
        <!--li><strong>FrequentWord (<code>-w file1</code>)</strong>: read the file (<code>file1</code>), and prints out the word that <b>most frequently appeared</b> in the file (<code>file1</code>) with the word count to standard output (<code>stdout</code>). If there are muliple words that appeared the same times in the file, print out the all words. The output format should be as follows: (word1 and word2 appear the same times)
        <blockquote>
        <pre>
        word1@word1's count
        word2@word2's count
        <pre>
        </blockquote!-->

    </li>
</ul>

    <p> Here are some usage examples of <code>sgrep</code> (you can also see the test files (<a href="./etc/google.txt"><code>google_wiki.txt</code></a> and <a href="./etc/microsoft.txt"><code>microsoft.txt</code></a>) which are used in the following example): </p>


    <div class="ui message" style="overflow-x: auto">
<pre>$ ./sgrep -f Google &lt; google_wiki.txt
Google Inc. is an American multinational technology company specializing
Google was founded by Larry Page and Sergey Brin while they were Ph.D.
 supervoting stock. They incorporated Google as a privately held company on
 be evil".[9][10] In 2004, Google moved to its new headquarters in Mountain
View, California, nicknamed the Googleplex.[11] In August 2015, Google
Alphabet Inc. When this restructuring took place on October 2, 2015, Google
became Alphabet's leading subsidiary, as well as the parent for Google's

$ ./sgrep -r Google Microsoft &lt; google_wiki.txt &gt; microsoft.txt
$ cat microsoft.txt (output is abbreviated with ...)
Microsoft Inc. is an American multinational technology company specializing
...
Microsoft was founded by Larry Page and Sergey Brin while they were Ph.D.
...
 supervoting stock. They incorporated Microsoft as a privately held company on
...
 be evil".[9][10] In 2004, Microsoft moved to its new headquarters in Mountain
...
View, California, nicknamed the Microsoftplex.[11] In August 2015, Microsoft
...
Alphabet Inc. When this restructuring took place on October 2, 2015, Microsoft
...
became Alphabet's leading subsidiary, as well as the parent for Microsoft's

$ ./sgrep -d google_wiki.txt microsoft.txt
google_wiki.txt@1:Google Inc. is an American multinational technology company specializing
microsoft.txt@1:Microsoft Inc. is an American multinational technology company specializing
google_wiki.txt@6:Google was founded by Larry Page and Sergey Brin while they were Ph.D.
microsoft.txt@6:Microsoft was founded by Larry Page and Sergey Brin while they were Ph.D.
google_wiki.txt@9: supervoting stock. They incorporated Google as a privately held company on
microsoft.txt@9: supervoting stock. They incorporated Microsoft as a privately held company on
google_wiki.txt@15: be evil".[9][10] In 2004, Google moved to its new headquarters in Mountain
microsoft.txt@15: be evil".[9][10] In 2004, Microsoft moved to its new headquarters in Mountain
google_wiki.txt@16:View, California, nicknamed the Googleplex.[11] In August 2015, Google
microsoft.txt@16:View, California, nicknamed the Microsoftplex.[11] In August 2015, Microsoft
google_wiki.txt@18:Alphabet Inc. When this restructuring took place on October 2, 2015, Google
microsoft.txt@18:Alphabet Inc. When this restructuring took place on October 2, 2015, Microsoft
google_wiki.txt@19:became Alphabet's leading subsidiary, as well as the parent for Google's
microsoft.txt@19:became Alphabet's leading subsidiary, as well as the parent for Microsoft's</pre>

    </div>


    <p>
        <a class="ui labeled icon button" href="./etc/google.txt">
            <i class="download icon"></i><code>google.txt</code>
        </a>
        <a class="ui labeled icon button" href="./etc/microsoft.txt">
            <i class="download icon"></i><code>microsoft.txt</code>
        </a>
    </p>

    <p>
        <b>Rules:</b>

    </p><ul>
    <li> <b>General rules</b> </li>
    <ul>
        <li> Use your Str functions to implement the functionality. That is, you need to finish Part 1 first to get any credit for this task. You should not use any string function in string.h </li>
        <li> Assume each line (including a new line character ('\n') is no more than 1023 bytes. You should stop your program with a proper error message if you encounter a line larger than 1023 bytes.</li>
        <li> A string argument (<code>search-string, string1, string2</code>) refers to a sequence of any non-space characters. It can be enclosed with double quote(") characters and can be either empty ("") or can include a space (e.g., "hello world"). No need to handle an escape character for this assignment. </li>
        <li> Assume a string or a file argument is no more than 1023 bytes. You should stop your program with a proper error message if you encounter a command-line argument that's too long.
        </li><li> Any error message should be printed out to standard error (<code>stderr</code>). Use <code>fprintf(stderr, ...);</code> for that.</li>
        <li> Unlike Part 1, you don't have to add assert function while implementing sgrep. In other words, after printing out the error messages in error case, sgrep should be finished with EXIT_FAILURE as the return value. Details are written in skeleton code, so please read the comments in skeletion code (<code><a href="./src/sgrep.c">sgrep.c</a></code>). </li>
    </ul>
    <li> <b>Rules for Find and Replace</b> </li>
    <ul>
        <li> <code>string1</code> cannot be an empty string. In such a case, your program should stop with a proper error message (e.g., "Error: Can't replace an empty substring"). </li>
        <li> Other string arguments (<code>string2, search-string</code>) <strong>can</strong> be an empty string. That is, an empty search string matches any line, and if <code>string2</code> is an empty string, it removes any occurrences of <code>string1</code> in the matching line.
        </li><li> <b>New:</b> Do not use dynamic memory allocation (malloc(), calloc(), realloc(), alloca(), etc.) nor a large local array. Note that it suffices to delcare a char buffer whose size is 1024 bytes (or 1025 bytes as shown in sgrep.c) even for string replacement. Any char buffer larger than 1025 bytes is considered too large for the assignment.
    </li></ul>
    <!--li> <b> Rules for FrequentWord </b> </li>
    <ul>
    <li> The length of the words in <code>file</code> used in 'frequentword (-w)' option is no more than 1023 bytes, and the number of words is also no more than 5000. You should stop your program with a proper error message if you encounter a word that's too long or the total number of words exceeds 5000. (Error messages are written in skeleton code)</li>
    <li> Note that a word cannot include the space(" ") or newline(\n). (e.g., a sentence "In 2004, Google's Google Inc." consists of five words: "In", "2004,", "Google's", "Google", "Inc.")
    <li> The two words are regarded as the same words only if they are exactly matched. (e.g., "Google" and "google" are the different words (case-sensitive). "Google's" and "Google" are the different words (ignore substring)). </li>
    <li> When you print out the multiple words, you don't need to consider the order of printing word. </li>
    </ul!-->

</ul>
    <p></p>

    <p>
        <b>Tips:</b>

    </p><ul>
    <li> We provide a skeleton code file (<code><a href="./src/sgrep.c">sgrep.c</a></code>). You can start with the file. </li>
    <li> <code>fgets</code> should be useful for reading a line from a file. 'man fgets' should give you more information. </li>
    <li style="color:red ;"> (Added:) We provide a solution binary. You can download and run a solution binary by executing the commands below:

        <div class="ui message" style="overflow-x: auto">
        <pre>$ wget https://ee209-2020-fall.github.io/assignment/assignment2/file/sgrep_sol
$ chmod +x sgrep_sol</pre>
        </div>
    </li>
</ul>
    <p>
        <a class="ui labeled icon button" href="./src/sgrep.c">
            <i class="download icon"></i><code>sgrep.c</code>
        </a>

        <a class="ui labeled icon button" href="./file/sgrep_sol">
            <i class="download icon"></i><code>sgrep_sol</code>
        </a>
    </p>


    <h2  class="ui dividing header">Logistics</h2>

    <p>Develop on lab machines using <code>emacs</code> to create source code and <code>gdb</code> to debug.</p>

    <p> For part 1, you implement the code <code>str.c</code> and <code>str.h</code>, which should contain the definitions of required functions.

    </p><p> For part 2, a skeleton C file is available here: <a href="./src/sgrep.c">sgrep.c</a>. It implements the basic I/O and argument parsing, so all you need is fill out the rest of the functionalities with <code>Str</code> functions. Feel free to use this file as your starting point (of course, you don't have to use it), and change any part in the code if you'd like. </p>

    <p>Create a <code>readme</code> text file that contains:</p>

    <ul>
        <li>Your name and your student ID</li>

        <li>A description of whatever help (if any) you received from others while doing the assignment, and the names of any individuals with whom you collaborated, as prescribed by the course "Policy" web page.</li>

        <li><em>Is it possible for <code>StrCopy</code> to call <code>assert</code> to verify that the destination memory area specified by the caller is large enough? Explain.</em></li>

        <li>(Optionally) Please write the your implementation method in <code>readme</code> text file whether you use pointer notation for the extra credit. </li>

        <li>(Optionally) An indication of how much time you spent doing the assignment.</li>

        <li>(Optionally) Your assessment of the assignment.</li>

        <li>(Optionally) Any information that will help us to grade your work in the most favorable light. In particular you should describe all known bugs.</li>
    </ul>


    <h2 class="ui dividing header">Submission</h2>

    <p>
        Use <a href="http://klms.kaist.ac.kr" target="_blank">KAIST
        KLMS</a> to submit your assignments. Your submission should
        be one gzipped tar file whose name is

    <code>YourStudentID_assign2.tar.gz</code>

</p><p>
    For example, if your student ID is 20191234,
    please name the file as
    <code>20191234_assign2.tar.gz</code>


</p> <p>
    Create a local directory named '<code>YourStudentID_assign2</code>' and place all your files in it. Then, <code>tar</code> your submission file.
    Please refer <a href="../assignment1/wordcounting.html#submission">here</a> for how to archive your assignment.

    <p>Your submission need to include the following files:</p>
    <ul>
        <li>(Task 1) <code>str.c</code> and <code>str.h</code> files</li>
        <li>(Task 2) updated <code>sgrep.c</code> file</li>
        <li><code>readme</code> text file</li>
        <li> <a href="../EthicsOath.docx">document of Ethics</a>. Sign on the document, save it into a PDF file, and submit it. </li>
    </ul>
    <p>
        <a class="ui labeled icon button" href="../EthicsOath.docx">
            <i class="download icon"></i>
            Ethics document
        </a>
    </p>
    <p>Your submission file should look like this: </p>
    <div class="ui segment">
        <div class="ui list">
            <div class="item">
                <i class="archive icon"></i>
                <div class="content">
                    20191234_assign2.tar.gz
                    <!--                    <div class="description">Source files for project</div>-->
                    <!--<div class="list">
                        <div class="item">
                            <i class="folder icon"></i>
                            <div class="content">
                                20191234_assign2-->
                                <div class="list">
                                    <div class="item">
                                        <i class="file icon"></i>
                                        <div class="content">
                                            str.c
                                        </div>
                                    </div>
                                    <div class="item">
                                        <i class="file icon"></i>
                                        <div class="content">
                                            str.h
                                        </div>
                                    </div>
                                    <div class="item">
                                        <i class="file icon"></i>
                                        <div class="content">
                                            sgrep.c
                                        </div>
                                    </div>
                                    <div class="item">
                                        <i class="file icon"></i>
                                        <div class="content">
                                            readme
                                        </div>
                                    </div>
                                    <div class="item">
                                        <i class="file icon"></i>
                                        <div class="content">
                                            EthicsOath.pdf
                                        </div>
                                    </div>
                                </div>
                            </div>
                     <!--   </div>
                    </div>
                </div-->
            </div>
        </div>

    </div>
    <li>You can use this <a style="font-size: xx-large;" href="./checker.html">checker</a> before you submit.</li>
    <div class="ui message error">
        <div class="header">Do not add files which has not been mentioned above.</div>
        <div class="description"> Do not put another source files in your submission.
            Your implementation must lay in <code>str.c</code>, <code>str.h</code>, and <code>sgrep.c</code>, not in other files.
        </div>

    </div>

    <div class="ui message warning">
        The name of the files must be exact. Note that file name is case sensitive. You might not get the full credit if the names are not correct.
    </div>
    <h2 class="ui dividing header">Grading</h2>
    <div class="ui message error">
        If your code cannot be compiled at <code>eelab5</code> with <code>gcc209</code>, we cannot give you any points. Please double check before you submit.
    </div>


    <p>We will grade your work on quality from the user's point of view and from the programmer's point of view. To encourage good coding practices, we will deduct points if <code>gcc209</code> generates warning messages.</p>

    <p>From the user's point of view, your module has quality if it behaves as it should.</p>

    <p>In part, style is defined by the rules given in <em>The Practice of Programming</em> (Kernighan and Pike), as summarized by the <a href="../../style.pdf">Rules of Programming Style</a> document. These additional rules apply:</p>

    <p><strong>Names</strong>: You should use a clear and consistent style for variable and function names. One example of such a style is to prefix each variable name with characters that indicate its type. For example, the prefix <code>c</code> might indicate that the variable is of type <code>char</code>, <code>i</code> might indicate <code>int</code>, <code>pc</code> might mean <code>char*</code>, <code>ui</code> might mean <code>unsigned int</code>, etc. But it is fine to use another style -- a style which does not include the type of a variable in its name -- as long as the result is a readable program.</p>

    <p><strong>Line lengths</strong>: Limit line lengths in your source code to 72 characters. Doing so allows us to print your work in two columns, thus saving paper.</p>

    <p><strong>Comments</strong>: Each source code file should begin with a comment that includes your name, the number of the assignment, and the name of the file.</p>

    <p><strong>Comments</strong>: Each function should begin with a comment that describes what the function does from the caller's point of view. The function comment should:</p>

    <ul>
        <li>
            Explicitly refer to the function's parameters (by name) and the function's return value.</li>
        <li>State what, if anything, the function reads from standard input or any other stream, and what, if anything, the function writes to standard output, standard error, or any other stream.</li>

        <li>State which global variables the function uses or affects.</li>

        <li>Appear in both the interface (.h) file for the sake of the <em>clients</em> of the function and the implementation (.c) file for the sake of the <em>maintainers</em> of the function.</li>
    </ul>

    <p><strong>Parameter Validation</strong>: Validate function parameters via asserts whenever possible.</p>

    <!-- =============================================================== -->

    <h2 class="ui dividing header"><a name="assert"></a>Note: assert and NDEBUG</h2>

    <p> assert is a macro implementations of assertion, used for verifying the conditions. If the condition is true, it does nothing. However, if the conditions is FALSE, it displays an error messages and aborts the running program. </p>

    <p> In this assignment, you should validate the function's parameters with <code>assert</code>. When you try to check whether your <code>Str</code> functions validate the given parameters correctly or not, the aborted program may annoy you. In that case, you can add <code>NDEBUG</code> macro in your source file to ignore the assert functions. Otherwise, you can also add -D NDEBUG argument to the <code>gcc</code>. The <code>-D NDEBUG</code> argument commands <code>gcc209</code> to define the <code>NDEBUG</code> macro, just as if the preprocessor directive <code>#define NDEBUG</code> appeared in the specified .c file(s). Following OBcommands are example of disabling assert using -D option</p>

    <div class="ui message">
<pre>gcc209 -D NDEBUG sgrep.c str.c -o sgrep
</pre></div>

    <p> If NDEBUG is defined as a macro name in the source file, the assert macro is defined as <code>((void)0)</code>, which means that the assert macro will be ignore.
    </p>

    <!-- =============================================================== -->

    <h2 class="ui dividing header">Note: Using Idioms</h2>

    <p>C programmers sometimes use idioms that rely on the fact that the null character ('\0'), the <code>NULL</code> address, the integer 0, and the logical concept FALSE have the same representation. You may use those idioms. For example, you may define <code>StrGetLength</code> like this:</p>

    <div class="ui message">
<pre>size_t StrGetLength(const char pcSrc[])
{
   size_t uiLength = 0U;
   assert(pcSrc); /* NULL address, 0, and FALSE are identical. */
   while (pcSrc[uiLength]) /* null character and FALSE are identical. */
      uiLength++;
   return uiLength;
}</pre>
    </div>

    <p>or like this:</p>

    <div class="ui message">
<pre>size_t StrGetLength(const char *pcSrc)
{
   const char *pcEnd;
   assert(pcSrc); /* NULL address, 0, and FALSE are identical. */
   pcEnd = pcSrc;
   while (*pcEnd) /* null character and FALSE are identical. */
      pcEnd++;
   return (size_t)(pcEnd - pcSrc);
}</pre>
    </div>

    <p>But you are not required to use those idioms. In fact, we recommend that you avoid the use of idioms that adversely affect understandability.</p>


    <!-- =============================================================== -->

    <h2 class="ui dividing header">Note: The <code>const</code> Keyword and <code>StrSearch</code></h2>

    <p>The use of the <code>const</code> keyword within <code>StrSearch</code> is tricky, as this question-and-answer sequence indicates.</p>
    <div class="ui top attached info message">
        <h4>Question</h4>

        <p>According to the man pages, the parameters of <code>strstr</code> are of type <code>const char*</code>. That implies that the parameters of <code>StrSearch</code> also should be of type <code>const char*</code>. Why are they not of type <code>char*</code>?</p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
    <h4>Answer</h4>

    <p>Suppose you were to define <code>StrSearch</code> like this:</p>
        <div class="ui message">
<pre>char *StrSearch(char *pcHaystack, char *pcNeedle)
{
   ...
}</pre>
        </div>

        <p>Further suppose the client then calls <code>StrSearch</code> like this:</p>

        <div class="ui message">
<pre>const char *pcBig = "hello";
const char *pcSmall = "lo";
 ...
 ... StrSearch(pcBig, pcSmall) ...
 ...
</pre>
        </div>

        <p>(Note that's a perfectly reasonable way to call the function.) In that case the compiler, noting that <code>pcBig</code> is of type <code>const char*</code> and that <code>pcHaystack</code> is of type <code>char*</code>, would generate a warning on the function call. Thus <code>pcHaystack</code> (and <code>pcNeedle</code>) should be of type <code>const char*</code>.</p>

    </div>
    <div class="ui top attached info message">
    <h4>Question</h4>

    <p>According to the man pages, the return type of <code>strstr</code> is <code>char*</code>. That implies that the return type of <code>StrSearch</code> also should be of type <code>char*</code>. Why is the return type not <code>const char*</code>?</p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
    <h4>Answer</h4>

    <p>Suppose you were to define <code>StrSearch</code> like this:</p>

    <div class="ui message">
<pre>const char *StrSearch(const char *pcHaystack, const char *pcNeedle)
{
   ...
}</pre>
    </div>

    <p>Further suppose the client then calls <code>StrSearch</code> like this:</p>

    <div class="ui message">
<pre>char *pcBig = "hello";
char *pcSmall = "lo";
char *pc;
 ...
pc = StrSearch(pcBig, pcSmall);
 ...</pre>
    </div>

    <p>(Note that's a perfectly reasonable way to call the function.) In that case the compiler, noting that <code>pc</code> is of type <code>char*</code> and that the value returned by <code>StrSearch</code> is of type <code>const char*</code>, would generate a warning on the assignment statement. Thus the return type of <code>StrSearch</code> should be <code>char*</code> and should not be <code>const char*</code>.</p>
    </div>
    <div class="ui top attached info message">
    <h4>Question</h4>

    <p>Within the definition of <code>StrSearch</code>, I decided to define a local variable named <code>pc</code> that "points into" the first of the two given strings, as indicated by this code:</p>

    <div class="ui message">
<pre>char *StrSearch(const char *pcHaystack, const char *pcNeedle)
{
   ...
   pc = pcHaystack;
   ...
   /* Increment pc so it points to the appropriate character. */
   ...
   return pc;
}</pre>
    </div>

    <p>If I define <code>pc</code> to be of type <code>char*</code>, then the assignment statement generates a warning. If I define <code>pc</code> to be of type <code>const char*</code>, then the <code>return</code> statement generates a warning. How can I resolve that problem?</p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
    <h4>Answer</h4>

    <p>Unfortunately, C provides no elegant solution. We recommend that you define <code>pc</code> to be of type <code>const char*</code> so the assignment statement is warningless. Then use a cast operator in the <code>return</code> statement:</p>

    <div class="ui message">
<pre>return (char*)pc;</pre>
    </div>

    <p>to explicitly inform the compiler to not generate a warning. C programmers refer to that solution as "casting away the constness" of the variable. Sadly, often that inelegant technique is unavoidable.</p>

    </div>

    <h2 class="ui dividing header">FAQ</h2>
    <div class="ui top attached info message">
        <h4>Question 1</h4>
        <p>The <code>StrGetLength</code> function is already implemented in the given file. So should we just leave it and finish other functions?</p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p>You should not implement the <code>StrGetLength</code> function.</p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 2</h4>
        <p>Do we have to replace the based on words or letters? For example, lets say the input file contains ‘<code>a car</code>’
            and let string 1 is ‘<code>a</code>’ and string 2 is ‘<code>e</code>’. Which output is correct; ‘<code>e car</code>’ or ‘<code>e cer</code>’?</p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p> ‘<code>e cer</code>’ is correct. You have to scan all string occurrences (not words).</p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 3</h4>
        <p>In assignment 2, do we have to implement <code>strncpy</code>, <code>strncmp</code> as well?</p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p> You only need to implement <code>strcpy</code>, <code>strcmp</code>.</p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 4</h4>
        <p> I am confused with following question in readme.
            "Is it possible for StrCopy to call assert to verify that the destination memory area specified by caller is large enough? Explain"
            Is the question asking about my own Strcopy implementation or about Strcopy in general?
        </p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p> It is asking you to answer if the following question is theoretically possible in general.</p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 5</h4>
        <p>For part2 replace, it states that maximum buffer size is 1025 bytes. Do we have to consider the error case when the string becomes over 1025 byte size after replacement?
        </p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p>Note that it suffices to declare a char buffer whose size is 1024 bytes (or 1025 bytes as shown in <code>sgrep.c</code>)
            even for string replacement. Any char buffer larger than 1025 bytes is considered too large for the assignment.</p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 6</h4>
        <p>When implementing diff of sgrep, what error message should we print if one of the file is empty?
        </p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p><strike style="color: red">You MUST NOT print different error message.</strike> </p>
        <p>You MUST NOT print any messages. </p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 7</h4>
        <p>According to general rules, it says that we should return <code>EXIT_FAILURE</code> for error cases. However, in skeleton code for <code>sgrep.c</code>
            it returns <code>FALSE</code> for error cases. Should we modify the skeleton code?
        </p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p> For each function it returns <code>FALSE</code>  for error cases as you said.
            However the main function returns <code>EXIT_FAILURE</code>  if the sub functions (e.g, find, diff replace) returns <code>FALSE</code>.
            Therefore, the main code will return  <code>EXIT_FAILURE</code> as intended.</p>
    </div>


    <div class="ui top attached info message">
        <h4>Question 8</h4>
        <p>On DoDiff, if one the file ends earlier than the other one, do we have to print DoDiff result until one file ends earlier and print the error message?
        </p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p> You have to print the DoDiff result until one file ends earlier.</p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 9</h4>
        <p>It is mentioned that we need to print error message ‘<code>failed to open [filename]</code>’. If both two files are unable to be opened, do we have to print the error message twice?
        </p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
	<p><strike style="color: red">You only need to consider error message in terms of first file input.</strike> That is, you only need to print error message once, while checking file inputs.</p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 10</h4>
        <p>To print "<code>Error: failed to open file [filename]\n</code>" message for file google_wiki.txt, which error message is correct?
        </p>
        <ol>
            <li><code>Error: failed to open file google_wiki.txt</code>
            </li>
            <li><code>Error: failed to open file [google_wiki.txt]</code>
            </li>
        </ol>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p> 1 is correct.</p>
    </div>

    <div class="ui top attached info message">
    <h4>Question 11</h4>
    <p>When we read file using fgets, it reads the newline character for each line in the file, and therefore if we print this,
        it automatically produces newline. However, for the last line in the file, there is no newline.
        Let’s say we are comparing two files that have different last line respectively, and we need to print the result. Should we include newline to our printed result?
    </p>
</div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p> You have to print the text with new line character just for last line. Because there always is a new line character in the end except last line.</p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 12</h4>
        <p>Do we have to consider the case that the replaced line has more than 1023 characters?
        </p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p>There were a lot of questions about error message when the length of replaced line has more than 1023 characters.
            You don't need to consider the case that the replaced line has more than 1023 characters, and it is also okay if you have already implemented the case.
        </p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 13</h4>
        <p>If I have two following files,</p>
        <ul>
            <li>1st line of file1.txt: <code>abc\n</code></li>
            <li>1st line of file2.txt: <code>abc</code></li>
        </ul>
        <p>Do I need to consider these two files as different files?</p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p>For this case, since both file has same 1st line and file2 has no 2nd line, you need to print error message that file has ended early.
        </p>
    </div>

    <div class="ui top attached info message">
        <h4>Question 14</h4>
        <p>If the search-string is nothing but blank (i.e.,‘’), what should we print for result?</p>
    </div>
    <div class="ui bottom attached segment message-like-padding">
        <h4>Answer</h4>
        <p>You need to print every line.
        </p>
    </div>


</div>


<script src="../../vendor/moment.min.js"></script>
<script src="../../vendor/ee209_assignment.js"></script>
<script>showTimer('2020-10-08T23:59:00+0900');</script>
</body>
</html>
